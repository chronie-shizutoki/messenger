<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title data-i18n="app.title"></title><link rel="stylesheet" href="css/index.css"><link rel="stylesheet" href="css/dark.css"><link rel="stylesheet" href="lib/tui-image-editor/tui-image-editor.min.css"><link rel="stylesheet" href="lib/font-awesome/all.min.css"><style>@font-face{font-family:'LXGWWenKaiGB-Regular';src:url('LXGWWenKaiGB-Regular.woff2');font-display:swap}*{font-family:'LXGWWenKaiGB-Regular'}body{background:linear-gradient(to bottom right,#f5f7fa,#c3cfe2);background-size:cover;background-attachment:fixed}.scroll-text-container{position:fixed;top:50px;left:0;width:100%;height:30px;background-color:#c8c8d5cc;color:#000000;display:flex;align-items:center;overflow:hidden;z-index:999;transition:opacity .3s ease;pointer-events:none}.scroll-text{white-space:nowrap;padding:0 20px;will-change:transform;backface-visibility:hidden;transform:translateZ(0);user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.scroll-text-container.hidden{opacity:0;pointer-events:none}</style><div><div id="current-time-date" style="position:fixed;top:15px;left:50%;transform:translateX(-50%)"><span id="date"></span><span id="time"></span></div><div id="scroll-text-container" class="scroll-text-container hidden"><div class="scroll-text" id="scroll-text-content" data-i18n="scroll_text.default"></div></div><script>function updateTimeDate(){const now=new Date(),timeElement=document.getElementById('time'),dateElement=document.getElementById('date');let hours=String(now.getHours()).padStart(2,'0'),minutes=String(now.getMinutes()).padStart(2,'0'),seconds=String(now.getSeconds()).padStart(2,'0');timeElement.textContent=`${hours}:${minutes}:${seconds}`;let year=now.getFullYear(),month=String(now.getMonth()+1).padStart(2,'0'),day=String(now.getDate()).padStart(2,'0');dateElement.textContent=`${year}-${month}-${day}`}updateTimeDate();setInterval(updateTimeDate,1000);function showScrollText(message){const container=document.getElementById('scroll-text-container'),content=document.getElementById('scroll-text-content');if(message){content.textContent=message;content.removeAttribute('data-i18n')}else{content.setAttribute('data-i18n','scroll_text.default');window.i18n&&window.i18n.applyTranslations()}container.classList.remove('hidden');startScrollAnimation(content)}let scrollAnimationId=null,scrollPosition=100,baseScrollSpeed=.1;function startScrollAnimation(element){if(scrollAnimationId)cancelAnimationFrame(scrollAnimationId);scrollPosition=100;element.style.transform=`translateX(${scrollPosition}%)`;const textWidth=element.offsetWidth,containerWidth=element.parentElement.offsetWidth,screenWidth=window.innerWidth;let adjustedSpeed=baseScrollSpeed;if(screenWidth<768)adjustedSpeed=baseScrollSpeed*.7;else if(screenWidth<1024)adjustedSpeed=baseScrollSpeed*.85;const fullCycleDistance=100+(textWidth*100/containerWidth);function animate(){scrollPosition-=adjustedSpeed;if(scrollPosition<-textWidth*100/containerWidth)scrollPosition=100;element.style.transform=`translateX(${scrollPosition}%)`;scrollAnimationId=requestAnimationFrame(animate)}requestAnimationFrame(animate)}function stopScrollAnimation(){if(scrollAnimationId){cancelAnimationFrame(scrollAnimationId);scrollAnimationId=null}}function hideScrollText(){const container=document.getElementById('scroll-text-container');container.classList.add('hidden');stopScrollAnimation()}function loadScrollTextFromFile(){fetch('scroll-text.txt',{cache:'no-cache'}).then(response=>{if(!response.ok)throw new Error('Network response was not ok');return response.text()}).then(text=>{const maxLength=500;text.length>maxLength&&(text=text.substring(0,maxLength)+'...');showScrollText(text.trim())}).catch(error=>{console.error('Error loading scroll text from file:',error);showScrollText('加载滚动文字失败')})}setTimeout(()=>{loadScrollTextFromFile()},1000)</script></div></head><body><div class="chat-container"><div class="chat-header"><div class="search-container"><input type="text" id="search-input" placeholder="" class="search-input"><i class="fas fa-search" style="margin-left:12px"></i></div><button id="open-notification-settings" class="notification-settings-btn"><i class="fas fa-cog"></i></button></div><div id="notification-modal" class="modal notification-modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title" data-i18n="notification.settings_title"></h3><button id="close-modal" class="modal-close-btn"><i class="fas fa-times"></i></button></div><div id="push-url-list" class="push-url-list"></div><div class="input-group"><input type="text" id="push-url-input" data-i18n-placeholder="notification.push_url_placeholder" class="push-url-input"><button id="save-push-url" data-i18n="notification.save_button" class="save-push-url-btn"></button></div></div></div><div id="sticker-modal" class="modal sticker-modal"><div class="modal-content sticker-modal-content"><div class="modal-header"><h3 class="modal-title" data-i18n="sticker.modal_title"><i class="fas fa-box-open"></i></h3><button id="close-sticker-modal" class="modal-close-btn"><i class="fas fa-times"></i></button></div><div id="sticker-categories" style="margin-bottom:15px"></div><div id="sticker-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:10px"></div></div></div><div id="image-editor-modal" class="modal" style="display:none;z-index:1000"><div class="modal-content" style="width:90%;height:90%;max-width:1400px;max-height:90vh;margin:0 auto"><div class="modal-header"><h3 id="image-editor-title" data-i18n="image_editor.edit_image"></h3><button id="close-image-editor" class="modal-close-btn"><i class="fas fa-times"></i></button></div><div id="tui-image-editor-container" style="width:100%;height:calc(100% - 60px)"></div></div></div><div id="status-indicator"></div><div id="chat-container" class="chat-messages-container"></div><div id="input-area"><div id="message-preview" class="message-preview"></div><div class="input-controls"><input type="text" id="message-input" data-i18n-placeholder="chat.placeholder"><button id="sticker-button" class="chat-action-btn sticker-btn"><i class="far fa-smile"></i></button><button id="upload-image-button" class="chat-action-btn upload-image-btn"><i class="fas fa-image"></i></button><button id="send-button" data-i18n="chat.send"></button></div></div></div><script src="lib/socket.io.js" defer></script><link rel="stylesheet" href="lib/viewerjs/viewer.min.css"><script src="lib/viewerjs/viewer.min.js"></script><script>
    document.addEventListener('i18nInitialized',function(){window.i18n&&window.i18n.applyTranslations()});window.i18n&&window.i18n.applyTranslations()</script><script src="lib/jquery/jquery.min.js"></script><script src="lib/fabric/fabric.min.js"></script><script src="lib/tui-color-picker/tui-color-picker.min.js"></script><script src="https://cdn.jsdelivr.net/npm/tui-code-snippet@latest/dist/tui-code-snippet.min.js"></script><script src="lib/tui-image-editor/tui-image-editor.min.js"></script><script src="js/i18n.js" defer></script><script src="chat-client.js"></script><div class="version-info"><a href="new-feather.html" target="_blank" data-i18n="version.info"></a></div></body></html>
